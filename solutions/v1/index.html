connections: ["Narrative Symbiosis", "Cross-Cultural Commons", "Distributed Archive", "Peace Games"],
        progress: 39, implementation: "Generated 50 transnational epics, testing audience response",
        liveMetrics: {
          epicsGenerated: 0, mythicResonance: 0, identityFlexibility: 0
        }
      }
    ];

    // Advanced simulation engine
    class PeaceSimulation {
      constructor() {
        this.isRunning = false;
        this.speed = 1.0;
        this.entropySensitivity = 1.0;
        this.culturalMixing = true;
        this.liveFeed = true;
        this.currentMode = 'grid';
        this.selectedSolution = null;
        this.activityBuffer = [];
        
        // Initialize live metrics
        solutions.forEach(solution => {
          Object.keys(solution.liveMetrics).forEach(metric => {
            solution.liveMetrics[metric] = Math.random() * 100;
          });
        });
      }
      
      start() {
        this.isRunning = true;
        this.simulationLoop();
      }
      
      simulationLoop() {
        if (!this.isRunning) return;
        
        // Update solution metrics
        this.updateSolutionMetrics();
        
        // Update global stats
        this.updateGlobalStats();
        
        // Generate activity events
        if (this.liveFeed) {
          this.generateActivity();
        }
        
        // Update UI
        this.updateDashboard();
        
        // Schedule next update
        setTimeout(() => this.simulationLoop(), 2000 / this.speed);
      }
      
      updateSolutionMetrics() {
        solutions.forEach(solution => {
          Object.keys(solution.liveMetrics).forEach(metric => {
            const current = solution.liveMetrics[metric];
            const change = (Math.random() - 0.4) * 5 * this.speed;
            solution.liveMetrics[metric] = Math.max(0, Math.min(100, current + change));
          });
          
          // Update progress with some momentum
          const progressChange = (Math.random() - 0.3) * 0.5 * this.speed;
          solution.progress = Math.max(0, Math.min(100, solution.progress + progressChange));
        });
      }
      
      updateGlobalStats() {
        const activeConnections = Math.floor(Math.random() * 1250) + 500;
        const entropyLevel = Math.random() * 10;
        const peaceIndex = Math.floor(Math.random() * 85) + 15;
        const culturalBridges = Math.floor(Math.random() * 150) + 50;
        
        document.getElementById('activeConnections').textContent = activeConnections;
        document.getElementById('entropyLevel').textContent = entropyLevel.toFixed(1);
        document.getElementById('peaceIndex').textContent = peaceIndex;
        document.getElementById('culturalBridges').textContent = culturalBridges;
        
        // Update trends
        this.updateTrends();
      }
      
      updateTrends() {
        const trends = ['connectionTrend', 'entropyTrend', 'peaceTrend', 'bridgeTrend'];
        trends.forEach(trendId => {
          const element = document.getElementById(trendId);
          const change = (Math.random() - 0.5) * 20;
          const isPositive = change > 0;
          
          if (trendId === 'entropyTrend') {
            element.textContent = isPositive ? 'rising' : 'cooling';
            element.className = isPositive ? 'stat-change stat-down' : 'stat-change stat-up';
          } else {
            element.textContent = `${isPositive ? '+' : ''}${Math.floor(change)}%`;
            element.className = isPositive ? 'stat-change stat-up' : 'stat-change stat-down';
          }
        });
      }
      
      generateActivity() {
        if (Math.random() < 0.3) { // 30% chance each cycle
          const activities = [
            "Narrative Symbiosis Engine discovered new collaboration pattern in 1950s scientific journals",
            "Cross-Cultural Commons generated viral meme bridging Russian and Ukrainian humor",
            "Entropy Mapping Dashboard detected tension spike, triggered humor intervention",
            "Peace Games session achieved 94% cooperation rate among 12 cross-cultural players",
            "Polyglot Mediation Agent successfully cooled heated diplomatic exchange",
            "Ecological Reciprocity AI matched forest restoration project across contested border",
            "Ancestral Archive revealed shared family lineage between opposing communities",
            "Resource Rotation Contract allocated grain corridor access with 98% fairness score",
            "Emotional Thermometer prevented escalation through targeted music deployment",
            "Mythic Convergence AI generated new epic featuring transnational hero journey"
          ];
          
          const activity = activities[Math.floor(Math.random() * activities.length)];
          const impact = Math.random() * 2;
          
          this.addActivity(activity, `+${impact.toFixed(1)} peace coefficient`);
        }
      }
      
      addActivity(description, impact) {
        const activityFeed = document.getElementById('activityFeed');
        const item = document.createElement('div');
        item.className = 'activity-item';
        item.innerHTML = `
          <div class="activity-time">${Math.floor(Math.random() * 5) + 1} minutes ago</div>
          <div class="activity-desc">${description}</div>
          <div class="activity-impact">${impact}</div>
        `;
        
        activityFeed.insertBefore(item, activityFeed.firstChild);
        
        // Keep only recent activities
        while (activityFeed.children.length > 8) {
          activityFeed.removeChild(activityFeed.lastChild);
        }
      }
      
      updateDashboard() {
        // Update metrics dashboard
        document.getElementById('narrativeSync').textContent = Math.floor(Math.random() * 100);
        document.getElementById('empathyScore').textContent = Math.floor(Math.random() * 100);
        document.getElementById('cooperationIndex').textContent = Math.floor(Math.random() * 200);
        
        // Update solution cards with live data
        solutions.forEach((solution, index) => {
          const card = document.querySelectorAll('.solution-card')[index];
          if (card) {
            // Add shimmer effect occasionally
            if (Math.random() < 0.1) {
              card.classList.add('shimmer');
              setTimeout(() => card.classList.remove('shimmer'), 2000);
            }
            
            // Update progress bars in expanded cards
            const progressBar = card.querySelector('.progress-fill');
            if (progressBar) {
              progressBar.style.width = solution.progress + '%';
              const progressText = progressBar.parentElement.nextElementSibling;
              if (progressText) {
                progressText.textContent = `${Math.round(solution.progress)}% complete`;
              }
            }
          }
        });
      }
      
      setMode(mode) {
        this.currentMode = mode;
        const grid = document.getElementById('solutionsGrid');
        const scenarioPanel = document.getElementById('scenarioPanel');
        
        // Reset classes
        grid.className = 'solutions-grid';
        scenarioPanel.style.display = 'none';
        
        switch(mode) {
          case 'network':
            grid.classList.add('network-view');
            this.renderNetworkView();
            break;
          case 'timeline':
            grid.classList.add('timeline-view');
            this.renderTimelineView();
            break;
          case 'scenarios':
            scenarioPanel.style.display = 'block';
            this.renderScenarioView();
            break;
          default:
            this.renderGridView();
        }
      }
      
      renderNetworkView() {
        // Add network visualization canvas
        const existingCanvas = document.querySelector('.network-canvas');
        if (!existingCanvas) {
          const canvas = document.createElement('div');
          canvas.className = 'network-canvas';
          canvas.innerHTML = this.generateNetworkVisualization();
          document.querySelector('.solutions-container').insertBefore(canvas, document.getElementById('solutionsGrid'));
        }
      }
      
      generateNetworkVisualization() {
        let html = '';
        const centerX = 50, centerY = 50;
        const radius = 35;
        
        solutions.forEach((solution, index) => {
          const angle = (index / solutions.length) * 2 * Math.PI;
          const x = centerX + radius * Math.cos(angle);
          const y = centerY + radius * Math.sin(angle);
          
          html += `<div class="network-node" style="left: ${x}%; top: ${y}%" 
                        data-solution="${solution.id}" title="${solution.title}"></div>`;
        });
        
        // Add connections
        solutions.forEach((solution, index) => {
          const angle = (index / solutions.length) * 2 * Math.PI;
          const x = centerX + radius * Math.cos(angle);
          const y = centerY + radius * Math.sin(angle);
          
          solution.connections.forEach(connectionName => {
            const connectedSolution = solutions.find(s => s.title.includes(connectionName));
            if (connectedSolution) {
              const connIndex = solutions.indexOf(connectedSolution);
              const connAngle = (connIndex / solutions.length) * 2 * Math.PI;
              const connX = centerX + radius * Math.cos(connAngle);
              const connY = centerY + radius * Math.sin(connAngle);
              
              const distance = Math.sqrt((connX - x) ** 2 + (connY - y) ** 2);
              const rotation = Math.atan2(connY - y, connX - x) * 180 / Math.PI;
              
              html += `<div class="network-connection" style="
                left: ${x}%; top: ${y}%; width: ${distance}%; 
                transform: rotate(${rotation}deg)"></div>`;
            }
          });
        });
        
        return html;
      }
      
      renderScenarioView() {
        this.runScenario('baseline');
      }
      
      runScenario(scenarioType) {
        const scenarios = {
          baseline: {
            name: "Baseline Conditions",
            description: "Normal operational parameters",
            effects: {
              entropy: 0.5,
              cooperation: 0.7,
              cultural_mixing: 0.6
            }
          },
          escalation: {
            name: "Tension Escalation",
            description: "Information warfare spike, resource disputes",
            effects: {
              entropy: 0.9,
              cooperation: 0.3,
              cultural_mixing: 0.2
            }
          },
          breakthrough: {
            name: "Cultural Breakthrough",
            description: "Viral cross-cultural moment, shared celebration",
            effects: {
              entropy: 0.2,
              cooperation: 0.9,
              cultural_mixing: 0.95
            }
          },
          resource: {
            name: "Resource Crisis",
            description: "Energy disruption, food security threat",
            effects: {
              entropy: 0.8,
              cooperation: 0.4,
              cultural_mixing: 0.3
            }
          },
          diaspora: {
            name: "Diaspora Activation",
            description: "Cross-border family connections mobilized",
            effects: {
              entropy: 0.4,
              cooperation: 0.8,
              cultural_mixing: 0.85
            }
          }
        };
        
        const scenario = scenarios[scenarioType];
        const output = document.getElementById('scenarioOutput');
        
        let result = `SCENARIO: ${scenario.name}\n`;
        result += `${scenario.description}\n\n`;
        result += `SYSTEM RESPONSE:\n`;
        result += `Entropy Level: ${scenario.effects.entropy.toFixed(2)}\n`;
        result += `Cooperation Index: ${scenario.effects.cooperation.toFixed(2)}\n`;
        result += `Cultural Mixing: ${scenario.effects.cultural_mixing.toFixed(2)}\n\n`;
        
        result += `SOLUTION ACTIVATIONS:\n`;
        solutions.forEach(solution => {
          const activation = this.calculateSolutionActivation(solution, scenario.effects);
          result += `${solution.title}: ${activation.toFixed(1)}% capacity\n`;
        });
        
        result += `\nPREDICTED OUTCOMES:\n`;
        result += this.generateOutcomePrediction(scenario.effects);
        
        output.textContent = result;
      }
      
      calculateSolutionActivation(solution, effects) {
        // Different solutions respond differently to different conditions
        let baseActivation = 50;
        
        if (solution.title.includes('Entropy')) {
          baseActivation += effects.entropy * 40;
        }
        if (solution.title.includes('Cultural')) {
          baseActivation += effects.cultural_mixing * 30;
        }
        if (solution.title.includes('Peace Games')) {
          baseActivation += (1 - effects.cooperation) * 35;
        }
        if (solution.title.includes('Emotional')) {
          baseActivation += effects.entropy * 45;
        }
        
        return Math.min(100, baseActivation);
      }
      
      generateOutcomePrediction(effects) {
        if (effects.entropy > 0.7) {
          return "High-intensity intervention required.\nMultiple cooling mechanisms activated.\nSuccess probability: 65%";
        } else if (effects.cooperation > 0.8) {
          return "Positive momentum building.\nExpand successful patterns.\nSuccess probability: 89%";
        } else {
          return "Steady progress maintained.\nContinue monitoring.\nSuccess probability: 74%";
        }
      }
    }

    // Initialize simulation
    const simulation = new PeaceSimulation();
    
    // Render initial solutions
    function renderSolutions() {
      const grid = document.getElementById('solutionsGrid');
      grid.innerHTML = '';
      
      solutions.forEach(solution => {
        const card = document.createElement('div');
        card.className = 'solution-card';
        card.onclick = () => toggleExpansion(solution.id);
        
        const featuresHTML = solution.features.map(feature => `
          <div class="feature-card">
            <div class="feature-icon">${feature.icon}</div>
            <div class="feature-title">${feature.title}</div>
            <div class="feature-desc">${feature.desc}</div>
          </div>
        `).join('');
        
        const connectionsHTML = solution.connections.map(conn => `
          <span class="connection-node" onclick="highlightConnection('${conn}')">${conn}</span>
        `).join('');
        
        card.innerHTML = `
          <div class="solution-header">
            <div class="solution-number" data-status="${solution.status}">${solution.id}</div>
            <h3 class="solution-title">${solution.title}</h3>
          </div>
          <p class="solution-description">${solution.description}</p>
          
          <div class="simulation-panel">
            <div class="sim-header">Live Metrics</div>
            <div class="sim-data">
              ${Object.entries(solution.liveMetrics).map(([key, value]) => `
                <div class="sim-metric">
                  <span>${key.replace(/([A-Z])/g, ' $1').toLowerCase()}</span>:
                  <span class="sim-value">${Math.floor(value)}</span>
                </div>
              `).join('')}
            </div>
          </div>
          
          <div class="expandable" id="expansion-${solution.id}">
            <div class="expand-content">
              <h4>Implementation Features</h4>
              <div class="feature-grid">
                ${featuresHTML}
              </div>
              
              <h4>Live Prototype</h4>
              <div class="prototype-demo">${solution.demoCode}</div>
              
              <h4>Network Connections</h4>
              <div class="connection-web">
                ${connectionsHTML}
              </div>
              
              <div class="progress-indicators">
                <div class="progress-item">
                  <div>Development Progress</div>
                  <div class="progress-bar">
                    <div class="progress-fill" style="width: ${solution.progress}%"></div>
                  </div>
                  <small>${Math.round(solution.progress)}% complete</small>
                </div>
                <div class="progress-item">
                  <div>Implementation Status</div>
                  <div style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--muted)">
                    ${solution.implementation}
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;
        
        grid.appendChild(card);
      });
    }

    function toggleExpansion(id) {
      const expansion = document.getElementById(`expansion-${id}`);
      expansion.classList.toggle('expanded');
    }

    function highlightConnection(connectionName) {
      const cards = document.querySelectorAll('.solution-card');
      cards.forEach(card => card.classList.remove('pulse', 'glow'));
      
      solutions.forEach((solution, index) => {
        if (solution.connections.includes(connectionName) || 
            solution.title.includes(connectionName)) {
          cards[index].classList.add('pulse', 'glow');
        }
      });
      
      setTimeout(() => {
        cards.forEach(card => card.classList.remove('pulse', 'glow'));
      }, 3000);
    }

    // Event listeners
    document.addEventListener('DOMContentLoaded', () => {
      renderSolutions();
      simulation.start();
      
      // Control panel listeners
      document.getElementById('speedSlider').addEventListener('input', (e) => {
        simulation.speed = parseFloat(e.target.value);
        document.getElementById('speedValue').textContent = e.target.value + 'x';
      });
      
      document.getElementById('entropySlider').addEventListener('input', (e) => {
        simulation.entropySensitivity = parseFloat(e.target.value);
        document.getElementById('entropyValue').textContent = e.target.value;
      });
      
      document.getElementById('culturalToggle').addEventListener('change', (e) => {
        simulation.culturalMixing = e.target.checked;
      });
      
      document.getElementById('liveToggle').addEventListener('change', (e) => {
        simulation.liveFeed = e.target.checked;
      });
      
      // Mode selector listeners
      document.querySelectorAll('.mode-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
          e.target.classList.add('active');
          simulation.setMode(e.target.dataset.mode);
        });
      });
      
      // Scenario buttons
      document.addEventListener('click', (e) => {
        if (e.target.classList.contains('scenario-btn')) {
          document.querySelectorAll('.scenario-btn').forEach(b => b.classList.remove('active'));
          e.target.classList.add('active');
          simulation.runScenario(e.target.dataset.scenario);
        }
      });
    });

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.key === ' ') {
        e.preventDefault();
        simulation.isRunning = !simulation.isRunning;
        if (simulation.isRunning) simulation.simulationLoop();
      }
      if (e.key === 'r' || e.key === 'R') {
        e.preventDefault();
        // Reset entropy levels
        solutions.forEach(solution => {
          Object.keys(solution.liveMetrics).forEach(metric => {
            solution.liveMetrics[metric] = Math.random() * 100;
          });
        });
      }
      if (e.ctrlKey || e.metaKey) {
        const num = parseInt(e.key);
        if (num >= 1 && num <= 10) {
          e.preventDefault();
          toggleExpansion(num);
          document.getElementById(`expansion-${num}`).scrollIntoView({behavior: 'smooth'});
        }
      }
    });
  </script>
</body>
</html><!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mycelial Peace Laboratory ‚Äî Live AI Conflict Transformation</title>
  <meta name="description" content="Interactive exploration of ten AI-driven solutions for conflict transformation between Russian-English entanglement">
  <meta name="theme-color" content="#0f172a">
  <style>
    :root{
      --bg:#0a0f1c; --card:#111827; --ink:#f1f5f9; --muted:#94a3b8; --ink-weak:#cbd5e1;
      --accent:#34d399; --warm:#f59e0b; --danger:#ef4444; --mystic:#a855f7; --cool:#06b6d4;
      --maxw:1400px; --radius:16px; --gap:1.2rem; --shadow:0 12px 40px rgba(0,0,0,.4);
      --dur:.4s; --ease:cubic-bezier(.2,.8,.2,1);
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#f8fafc; --card:#ffffff; --ink:#0f172a; --muted:#475569; --ink-weak:#334155; }
    }
    
    * { box-sizing: border-box; }
    html,body{height:100%; scroll-behavior:smooth; overflow-x:hidden}
    body{
      margin:0; font:16px/1.6 -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Inter,sans-serif; color:var(--ink);
      background:
        radial-gradient(1400px 800px at 20% -15%, rgba(52,211,153,.08), transparent 70%),
        radial-gradient(1400px 800px at 80% -15%, rgba(168,85,247,.08), transparent 70%),
        radial-gradient(800px 400px at 50% 50%, rgba(245,158,11,.04), transparent 60%),
        conic-gradient(from 0deg at 50% 100%, rgba(6,182,212,.02), transparent 20%, rgba(239,68,68,.02), transparent 40%),
        var(--bg);
      min-height:100vh;
    }
    
    .wrap{max-width:var(--maxw); margin:0 auto; padding:1.5rem}
    
    /* HEADER WITH LIVE STATS */
    header{
      display:grid; grid-template-columns:1fr auto; gap:2rem; align-items:center;
      padding:2rem; border-radius:var(--radius); margin-bottom:2rem;
      background:linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      box-shadow:var(--shadow); position:relative; overflow:hidden;
    }
    header::before{
      content:''; position:absolute; top:0; left:0; right:0; bottom:0;
      background:
        radial-gradient(circle at 30% 20%, rgba(52,211,153,.15), transparent 50%),
        radial-gradient(circle at 70% 80%, rgba(168,85,247,.15), transparent 50%);
      animation:headerFlow 20s ease-in-out infinite;
    }
    @keyframes headerFlow{
      0%,100%{transform:scale(1) rotate(0deg)} 
      33%{transform:scale(1.1) rotate(120deg)}
      66%{transform:scale(.9) rotate(240deg)}
    }
    
    .header-content{position:relative; z-index:2}
    .title{font-weight:900; font-size:clamp(2rem, 5vw, 3.5rem); letter-spacing:-.02em; margin:0; 
           background:linear-gradient(135deg, var(--accent), var(--mystic)); -webkit-background-clip:text; 
           -webkit-text-fill-color:transparent; background-clip:text}
    .subtitle{color:var(--muted); font-size:1.2rem; margin:.5rem 0 1rem}
    .tagline{color:var(--ink-weak); font-style:italic; font-size:1rem}
    
    .live-stats{
      display:grid; gap:1rem; position:relative; z-index:2;
      grid-template-columns:repeat(2, 1fr);
    }
    .stat-card{
      background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1);
      padding:1rem; border-radius:12px; text-align:center;
    }
    .stat-value{font-size:1.5rem; font-weight:700; margin-bottom:.2rem}
    .stat-label{font-size:.8rem; color:var(--muted); text-transform:uppercase; letter-spacing:.5px}
    .stat-change{font-size:.75rem; margin-top:.3rem}
    .stat-up{color:var(--accent)} .stat-down{color:var(--danger)}
    
    /* CONTROL PANEL */
    .control-panel{
      display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:1rem;
      padding:1.5rem; background:rgba(255,255,255,.03); border-radius:var(--radius);
      border:1px solid rgba(255,255,255,.08); margin-bottom:2rem;
    }
    .control-group{display:flex; flex-direction:column; gap:.5rem}
    .control-label{font-size:.85rem; color:var(--muted); font-weight:500}
    .slider{
      -webkit-appearance:none; appearance:none; height:4px; border-radius:2px;
      background:rgba(255,255,255,.2); outline:none;
    }
    .slider::-webkit-slider-thumb{
      -webkit-appearance:none; appearance:none; width:16px; height:16px;
      border-radius:50%; background:var(--accent); cursor:pointer;
    }
    .toggle{
      appearance:none; width:40px; height:20px; border-radius:10px;
      background:rgba(255,255,255,.2); cursor:pointer; position:relative;
      transition:background var(--dur);
    }
    .toggle:checked{background:var(--accent)}
    .toggle::before{
      content:''; position:absolute; width:16px; height:16px; border-radius:50%;
      background:white; top:2px; left:2px; transition:transform var(--dur);
    }
    .toggle:checked::before{transform:translateX(20px)}
    
    /* EXPLORATION MODES */
    .mode-selector{
      display:flex; gap:.5rem; margin-bottom:2rem; padding:1rem;
      background:rgba(255,255,255,.03); border-radius:var(--radius);
    }
    .mode-btn{
      appearance:none; border:1px solid rgba(255,255,255,.2); background:rgba(255,255,255,.05);
      color:var(--ink); padding:.7rem 1.2rem; border-radius:10px; cursor:pointer;
      transition:all var(--dur) var(--ease); font-weight:500;
    }
    .mode-btn:hover{background:rgba(255,255,255,.1); transform:translateY(-1px)}
    .mode-btn.active{background:var(--accent); color:#000; border-color:var(--accent)}
    
    /* ENHANCED SOLUTIONS GRID */
    .solutions-container{position:relative}
    .solutions-grid{
      display:grid; gap:var(--gap); transition:all var(--dur) var(--ease);
      grid-template-columns:repeat(auto-fit, minmax(min(100%, 380px), 1fr));
    }
    .solutions-grid.network-view{
      grid-template-columns:repeat(5, 1fr);
      grid-template-rows:repeat(2, 1fr);
    }
    .solutions-grid.timeline-view{
      grid-template-columns:1fr;
      grid-template-rows:repeat(10, auto);
    }
    
    .solution-card{
      background:var(--card); border:1px solid rgba(255,255,255,.08); 
      border-radius:var(--radius); padding:1.5rem; box-shadow:var(--shadow);
      transition:all var(--dur) var(--ease); position:relative; overflow:hidden;
      cursor:pointer;
    }
    .solution-card::before{
      content:''; position:absolute; top:0; left:0; right:0; height:3px;
      background:linear-gradient(90deg, var(--accent), var(--mystic), var(--warm));
      transform:scaleX(0); transition:transform var(--dur) var(--ease);
    }
    .solution-card:hover{
      transform:translateY(-4px) scale(1.02); 
      box-shadow:0 25px 70px rgba(0,0,0,.6);
    }
    .solution-card:hover::before{transform:scaleX(1)}
    .solution-card.active{
      border-color:var(--accent); box-shadow:0 0 0 2px rgba(52,211,153,.3);
    }
    
    .solution-header{display:flex; align-items:flex-start; gap:1rem; margin-bottom:1rem}
    .solution-number{
      flex-shrink:0; width:3rem; height:3rem; border-radius:50%;
      background:linear-gradient(135deg, var(--accent), var(--mystic));
      display:flex; align-items:center; justify-content:center;
      font-weight:700; color:white; font-size:1rem;
      position:relative;
    }
    .solution-number::after{
      content:attr(data-status); position:absolute; top:-8px; right:-8px;
      width:16px; height:16px; border-radius:50%; font-size:8px;
      display:flex; align-items:center; justify-content:center;
    }
    .solution-number[data-status="üü¢"]::after{background:var(--accent)}
    .solution-number[data-status="üü°"]::after{background:var(--warm)}
    .solution-number[data-status="üî¥"]::after{background:var(--danger)}
    
    .solution-title{font-weight:700; font-size:1.3rem; margin:0; line-height:1.3}
    .solution-description{color:var(--muted); margin-bottom:1.2rem; line-height:1.6}
    
    /* LIVE SIMULATION DATA */
    .simulation-panel{
      background:rgba(0,0,0,.3); border-radius:12px; padding:1rem; margin:1rem 0;
      font-family:ui-monospace,monospace; font-size:.85rem;
      border:1px solid rgba(52,211,153,.3);
    }
    .sim-header{color:var(--accent); font-weight:600; margin-bottom:.5rem}
    .sim-data{display:grid; grid-template-columns:1fr 1fr; gap:.5rem}
    .sim-metric{padding:.3rem; background:rgba(255,255,255,.05); border-radius:6px}
    .sim-value{color:var(--warm); font-weight:600}
    
    /* DETAILED EXPANSION CONTENT */
    .expandable{
      background:rgba(255,255,255,.02); border:1px dashed rgba(255,255,255,.15);
      border-radius:12px; padding:0; margin-top:1rem; overflow:hidden;
      max-height:0; opacity:0; transition:all var(--dur) var(--ease);
    }
    .expandable.expanded{max-height:2000px; opacity:1; padding:1.5rem}
    
    .expand-content{display:grid; gap:1.5rem}
    .feature-grid{display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:1rem}
    .feature-card{
      background:rgba(255,255,255,.05); padding:1rem; border-radius:8px;
      border-left:3px solid var(--accent);
    }
    .feature-icon{font-size:1.5rem; margin-bottom:.5rem}
    .feature-title{font-weight:600; margin-bottom:.3rem}
    .feature-desc{font-size:.9rem; color:var(--muted)}
    
    .prototype-demo{
      background:linear-gradient(135deg, rgba(52,211,153,.1), rgba(168,85,247,.05));
      border:1px solid rgba(52,211,153,.3); border-radius:8px; padding:1.2rem;
      font-family:ui-monospace,monospace; font-size:.9rem; position:relative; overflow:hidden;
    }
    .prototype-demo::before{
      content:'LIVE PROTOTYPE'; position:absolute; top:.5rem; right:.8rem;
      font-size:.7rem; color:var(--accent); font-weight:600;
    }
    
    /* NETWORK VISUALIZATION */
    .network-canvas{
      width:100%; height:300px; border-radius:12px; margin:1rem 0;
      background:radial-gradient(circle at 50% 50%, rgba(52,211,153,.1), transparent 70%);
      position:relative; overflow:hidden;
    }
    .network-node{
      position:absolute; width:12px; height:12px; border-radius:50%;
      background:var(--accent); cursor:pointer; transition:all var(--dur) var(--ease);
    }
    .network-node:hover{transform:scale(1.5); box-shadow:0 0 20px var(--accent)}
    .network-connection{
      position:absolute; height:2px; background:rgba(52,211,153,.4);
      transform-origin:left center; transition:opacity var(--dur);
    }
    
    /* IMPACT METRICS */
    .metrics-dashboard{
      display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:1rem;
      margin:1.5rem 0; padding:1.5rem; background:rgba(255,255,255,.02);
      border-radius:var(--radius); border:1px solid rgba(255,255,255,.08);
    }
    .metric-card{text-align:center; padding:1rem}
    .metric-value{font-size:2.5rem; font-weight:800; margin-bottom:.3rem;
                  background:linear-gradient(135deg, var(--accent), var(--mystic));
                  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text}
    .metric-label{color:var(--muted); font-size:.9rem; margin-bottom:.5rem}
    .metric-trend{
      display:flex; align-items:center; justify-content:center; gap:.3rem;
      font-size:.8rem; font-weight:500;
    }
    
    /* REAL-TIME ACTIVITY FEED */
    .activity-feed{
      max-height:300px; overflow-y:auto; padding:1rem; margin:1rem 0;
      background:rgba(0,0,0,.2); border-radius:12px; border:1px solid rgba(255,255,255,.1);
    }
    .activity-item{
      padding:.8rem; margin-bottom:.5rem; border-radius:8px;
      background:rgba(255,255,255,.03); border-left:3px solid var(--accent);
      font-size:.9rem; animation:fadeInSlide var(--dur) var(--ease);
    }
    @keyframes fadeInSlide{
      from{opacity:0; transform:translateX(-20px)}
      to{opacity:1; transform:translateX(0)}
    }
    .activity-time{color:var(--muted); font-size:.8rem}
    .activity-desc{margin:.2rem 0}
    .activity-impact{color:var(--accent); font-weight:500; font-size:.8rem}
    
    /* SCENARIO EXPLORER */
    .scenario-explorer{
      padding:1.5rem; background:rgba(168,85,247,.05); border-radius:var(--radius);
      border:1px solid rgba(168,85,247,.2); margin:1.5rem 0;
    }
    .scenario-controls{display:flex; gap:1rem; margin-bottom:1rem; flex-wrap:wrap}
    .scenario-btn{
      padding:.5rem 1rem; border-radius:8px; border:1px solid rgba(255,255,255,.2);
      background:rgba(255,255,255,.05); color:var(--ink); cursor:pointer;
      transition:all var(--dur); font-size:.9rem;
    }
    .scenario-btn:hover{background:rgba(168,85,247,.2); border-color:var(--mystic)}
    .scenario-btn.active{background:var(--mystic); color:white}
    
    .scenario-output{
      padding:1rem; background:rgba(0,0,0,.3); border-radius:8px;
      font-family:ui-monospace,monospace; font-size:.85rem; min-height:150px;
      border:1px solid rgba(168,85,247,.3);
    }
    
    /* RESPONSIVE DESIGN */
    @media (max-width: 1200px){
      .solutions-grid.network-view{grid-template-columns:repeat(3, 1fr)}
    }
    @media (max-width: 768px){
      .solutions-grid{grid-template-columns:1fr}
      .solutions-grid.network-view{grid-template-columns:1fr}
      .wrap{padding:1rem}
      header{grid-template-columns:1fr; text-align:center}
      .control-panel{grid-template-columns:1fr}
      .live-stats{grid-template-columns:1fr}
      .mode-selector{flex-wrap:wrap}
    }
    
    /* UTILITY CLASSES */
    .pulse{animation:pulseGlow 2s ease-in-out infinite}
    @keyframes pulseGlow{
      0%,100%{box-shadow:0 0 0 0 rgba(52,211,153,.4)}
      50%{box-shadow:0 0 0 12px rgba(52,211,153,0)}
    }
    .glow{box-shadow:0 0 20px rgba(52,211,153,.6) !important}
    .shimmer{
      background:linear-gradient(90deg, transparent, rgba(255,255,255,.1), transparent);
      background-size:200% 100%; animation:shimmer 2s infinite;
    }
    @keyframes shimmer{
      0%{background-position:200% 0}
      100%{background-position:-200% 0}
    }
    
    .loading-skeleton{
      background:linear-gradient(90deg, rgba(255,255,255,.05) 25%, rgba(255,255,255,.15) 50%, rgba(255,255,255,.05) 75%);
      background-size:200% 100%; animation:loading 1.5s infinite;
    }
    @keyframes loading{
      0%{background-position:200% 0}
      100%{background-position:-200% 0}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="header-content">
        <h1 class="title">Mycelial Peace Laboratory</h1>
        <p class="subtitle">Live AI Conflict Transformation Simulator</p>
        <p class="tagline">"Cross-pollinating solutions for destabilizing destructive entropies"</p>
      </div>
      <div class="live-stats">
        <div class="stat-card">
          <div class="stat-value" id="activeConnections">0</div>
          <div class="stat-label">Active Connections</div>
          <div class="stat-change stat-up" id="connectionTrend">+0%</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="entropyLevel">0.0</div>
          <div class="stat-label">Entropy Level</div>
          <div class="stat-change" id="entropyTrend">stable</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="peaceIndex">0</div>
          <div class="stat-label">Peace Index</div>
          <div class="stat-change stat-up" id="peaceTrend">+0%</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="culturalBridges">0</div>
          <div class="stat-label">Cultural Bridges</div>
          <div class="stat-change stat-up" id="bridgeTrend">+0%</div>
        </div>
      </div>
    </header>

    <div class="control-panel">
      <div class="control-group">
        <label class="control-label">Simulation Speed</label>
        <input type="range" class="slider" id="speedSlider" min="0.5" max="3" step="0.1" value="1">
        <span id="speedValue">1.0x</span>
      </div>
      <div class="control-group">
        <label class="control-label">Entropy Sensitivity</label>
        <input type="range" class="slider" id="entropySlider" min="0.1" max="2" step="0.1" value="1">
        <span id="entropyValue">1.0</span>
      </div>
      <div class="control-group">
        <label class="control-label">Cultural Mixing</label>
        <input type="checkbox" class="toggle" id="culturalToggle" checked>
      </div>
      <div class="control-group">
        <label class="control-label">Live Data Feed</label>
        <input type="checkbox" class="toggle" id="liveToggle" checked>
      </div>
    </div>

    <div class="mode-selector">
      <button class="mode-btn active" data-mode="grid">Solution Grid</button>
      <button class="mode-btn" data-mode="network">Network View</button>
      <button class="mode-btn" data-mode="timeline">Timeline</button>
      <button class="mode-btn" data-mode="scenarios">Scenarios</button>
    </div>

    <div class="solutions-container">
      <div class="solutions-grid" id="solutionsGrid">
        <!-- Solutions will be dynamically populated -->
      </div>
    </div>

    <div class="metrics-dashboard" id="metricsBoard">
      <div class="metric-card">
        <div class="metric-value" id="narrativeSync">0</div>
        <div class="metric-label">Narrative Convergence</div>
        <div class="metric-trend">
          <span>‚Üó</span> <span>+12% this hour</span>
        </div>
      </div>
      <div class="metric-card">
        <div class="metric-value" id="empathyScore">0</div>
        <div class="metric-label">Cross-Cultural Empathy</div>
        <div class="metric-trend">
          <span>‚Üó</span> <span>+8% this hour</span>
        </div>
      </div>
      <div class="metric-card">
        <div class="metric-value" id="cooperationIndex">0</div>
        <div class="metric-label">Cooperation Events</div>
        <div class="metric-trend">
          <span>‚Üó</span> <span>+23% this hour</span>
        </div>
      </div>
    </div>

    <div class="scenario-explorer" id="scenarioPanel" style="display:none">
      <h3>Scenario Explorer</h3>
      <p class="muted">Test how solutions interact under different conflict conditions</p>
      <div class="scenario-controls">
        <button class="scenario-btn active" data-scenario="baseline">Baseline</button>
        <button class="scenario-btn" data-scenario="escalation">Tension Escalation</button>
        <button class="scenario-btn" data-scenario="breakthrough">Cultural Breakthrough</button>
        <button class="scenario-btn" data-scenario="resource">Resource Crisis</button>
        <button class="scenario-btn" data-scenario="diaspora">Diaspora Activation</button>
      </div>
      <div class="scenario-output" id="scenarioOutput"></div>
    </div>

    <div class="activity-feed" id="activityFeed">
      <div class="activity-item">
        <div class="activity-time">2 minutes ago</div>
        <div class="activity-desc">Narrative Symbiosis Engine discovered new shared folk song pattern</div>
        <div class="activity-impact">+0.3 cultural bridge formation</div>
      </div>
    </div>

    <footer style="margin-top:3rem; text-align:center; padding:2rem; color:var(--muted); font-size:.9rem">
      <p>Live simulation of mycelial peace solutions ‚Ä¢ Each node strengthens the network ‚Ä¢<br>
      Press <kbd style="background:rgba(255,255,255,.1);padding:.2rem .4rem;border-radius:4px">Space</kbd> to pause simulation ‚Ä¢ 
      <kbd style="background:rgba(255,255,255,.1);padding:.2rem .4rem;border-radius:4px">R</kbd> to reset entropy</p>
    </footer>
  </div>

  <script>
    // Enhanced solution data with deeper implementation details
    const solutions = [
      {
        id: 1, title: "Narrative Symbiosis Engine", status: "üü¢",
        description: "AI continuously mines English and Russian cultural archives, surfacing forgotten collaboration moments and shared myths. Reframes these into living storylines through games, media, and rituals as counterweight to enmity narratives.",
        features: [
          {icon: "üîç", title: "Deep Archive Mining", desc: "Processes 50M+ documents across languages for collaboration patterns"},
          {icon: "üß¨", title: "Myth Pattern Recognition", desc: "Identifies shared archetypal structures across cultures"},
          {icon: "üéÆ", title: "Living Story Deployment", desc: "Transforms discoveries into interactive media experiences"},
          {icon: "üìä", title: "Narrative Impact Analytics", desc: "Tracks how stories shift collective perception"}
        ],
        demoCode: `// Live narrative discovery engine
const narrativeEngine = {
  async discoverSharedMoments() {
    const patterns = await scanArchives({
      languages: ['ru', 'uk', 'en'],
      themes: ['collaboration', 'mutual_aid', 'shared_challenges'],
      timespan: '1800-2020',
      confidence: 0.75
    });
    
    return patterns.map(p => ({
      historical_moment: p.event,
      modern_relevance: p.contemporary_parallels,
      story_potential: p.narrative_hooks,
      deployment_channels: ['gaming', 'social_media', 'education']
    }));
  },
  
  // Real-time story impact tracking
  trackNarrativeResonance(storyId) {
    return {
      reach: Math.floor(Math.random() * 100000),
      engagement_depth: Math.random() * 10,
      cross_cultural_sharing: Math.random() * 100,
      empathy_increase: Math.random() * 50
    };
  }
};`,
        connections: ["Cross-Cultural Commons", "Mythic Convergence", "Peace Games", "Polyglot Mediation"],
        progress: 73, implementation: "Active prototype deployed in 3 communities",
        liveMetrics: {
          storiesGenerated: 0, culturalResonance: 0, narrativeShift: 0
        }
      },
      {
        id: 2, title: "Cross-Cultural Generative Commons", status: "üü°",
        description: "AI co-designs hybrid cultural outputs‚Äîsongs, artworks, jokes, slang‚Äîmixing Russian, Ukrainian, and English idioms. Seeds memes and art both sides recognize as 'half theirs,' eroding psychological barriers.",
        features: [
          {icon: "üé®", title: "Multi-lingual Creative AI", desc: "Generates art blending cultural elements from all sides"},
          {icon: "üòÑ", title: "Humor Bridge Generator", desc: "Creates jokes that work across cultural contexts"},
          {icon: "üéµ", title: "Hybrid Music Composer", desc: "Blends musical traditions into new shared forms"},
          {icon: "üí¨", title: "Slang Evolution Lab", desc: "Tracks and creates cross-pollinating language patterns"}
        ],
        demoCode: `// Cultural fusion generator
class CulturalCommons {
  generateHybridArt(inputs) {
    const fusion = this.blendCulturalElements({
      russian: inputs.ru_elements,
      ukrainian: inputs.ua_elements,  
      english: inputs.en_elements,
      synthesis_method: 'empathetic_bridging'
    });
    
    return {
      artwork: fusion.visual_output,
      cultural_markers: fusion.recognizable_elements,
      bridge_potential: this.calculateBridgeStrength(fusion),
      viral_prediction: this.predictSpread(fusion)
    };
  }
  
  // Live meme evolution tracking
  trackMemePropagation() {
    return {
      cross_cultural_adoption: Math.random() * 100,
      identity_softening_index: Math.random() * 10,
      humor_bridge_formation: Math.random() * 50
    };
  }
}`,
        connections: ["Narrative Symbiosis", "Polyglot Mediation", "Emotional Thermometer", "Mythic Convergence"],
        progress: 58, implementation: "Beta testing with artist collectives",
        liveMetrics: {
          hybridWorks: 0, culturalAdoption: 0, bridgeStrength: 0
        }
      },
      {
        id: 3, title: "Entropy Mapping Dashboard", status: "üü¢",
        description: "ML model quantifies and visualizes 'entropic hotspots'‚Äîpropaganda surges, misinformation clusters, energy dependency spikes. Enables proactive intervention before system destabilization.",
        features: [
          {icon: "üå°Ô∏è", title: "Real-time Tension Monitoring", desc: "Tracks 200+ indicators across information space"},
          {icon: "üéØ", title: "Predictive Intervention Points", desc: "Identifies optimal moments for peace interventions"},
          {icon: "üìà", title: "Entropy Visualization", desc: "Real-time maps of system instability"},
          {icon: "‚ö°", title: "Early Warning System", desc: "Alerts peace actors before crisis points"}
        ],
        demoCode: `// Entropy detection and prediction system
const entropyMapper = {
  calculateSystemEntropy() {
    const indicators = {
      propaganda_velocity: this.measurePropagandaFlow(),
      misinformation_density: this.clusterAnalysis(),
      resource_tension: this.energyDependencySpikes(),
      social_fragmentation: this.measureCohesion(),
      narrative_polarization: this.trackNarrativeDrift()
    };
    
    return {
      overall_entropy: this.weightedEntropy(indicators),
      hotspot_locations: this.identifyHotspots(indicators),
      intervention_windows: this.predictInterventionTiming(),
      recommended_actions: this.suggestCountermeasures()
    };
  },
  
  // Predictive modeling for peace interventions
  predictCrisisPoints(timeHorizon = 72) { // hours
    return {
      probability_cascade: Math.random() * 100,
      optimal_intervention_time: Math.random() * timeHorizon,
      required_intervention_strength: Math.random() * 10,
      success_probability: Math.random() * 100
    };
  }
};`